<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulario de Cotización</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  /* Resaltar tarjeta seleccionada */
  .tarjeta input[type="radio"]:checked + .contenido {
    background-color: #c0e7ff; /* Celeste claro */
    border-color: #3b82f6;      /* Azul más fuerte */
  }
</style>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen p-4">

<form id="cotizacionForm" class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-5xl space-y-6">
    <h2 class="text-2xl font-bold text-center text-blue-700">Formulario de Cotización</h2>
    <p class="text-gray-600 text-sm text-center">Los campos marcados con * son obligatorios</p>

    <div class="grid md:grid-cols-2 gap-4">
        <div>
            <label class="block text-gray-700 font-semibold">Nombres *</label>
            <input type="text" name="nombre" required class="mt-1 w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" />
        </div>
        <div>
            <label class="block text-gray-700 font-semibold">Primer Apellido *</label>
            <input type="text" name="primerapellido" required class="mt-1 w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" />
        </div>
        <div>
            <label class="block text-gray-700 font-semibold">Segundo Apellido</label>
            <input type="text" name="segundoapellido" class="mt-1 w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" />
        </div>
        <div>
            <label class="block text-gray-700 font-semibold">Celular *</label>
            <input type="tel" name="celular" required pattern="[0-9]{8,15}" class="mt-1 w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" placeholder="Ej: 77778888" />
        </div>
        <div>
            <label class="block text-gray-700 font-semibold">Correo Electrónico *</label>
            <input type="email" name="correo" required class="mt-1 w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" placeholder="correo@ejemplo.com" />
        </div>
        <div>
            <label class="block text-gray-700 font-semibold">Monto a Asegurar *</label>
            <input type="number" name="monto_asegurar" min="10000" required class="mt-1 w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500" placeholder="Debe ser mayor a $10,000" />
        </div>
    </div>

    <div>
        <p class="block text-gray-700 font-semibold">¿Necesitas Cesión de Beneficios? *</p>
        <div class="flex gap-4 mt-1">
            <label>
                <input type="radio" name="cesion_beneficios" value="Si" required> Sí
            </label>
            <label>
                <input type="radio" name="cesion_beneficios" value="No" required> No
            </label>
        </div>
        <p class="text-xs text-gray-500 mt-1">Tu póliza servirá como garantía para créditos u otros productos financieros.</p>
    </div>

    <h3 class="text-xl font-bold text-center text-blue-700 mt-8">Elige tu Tipo de Póliza</h3>
    <div class="grid md:grid-cols-3 gap-6 mt-4">
        <!-- Tarjeta 1 -->
        <label class="tarjeta border border-blue-500 rounded-xl p-6 bg-white flex flex-col justify-between cursor-pointer">
            <input type="radio" name="poliza" value="Accidentes Personales" class="hidden" required>
            <div class="contenido">
                <h3 class="text-xl font-bold text-blue-700 mb-4">ACCIDENTES PERSONALES</h3>
                <ul class="space-y-1 text-gray-700 flex-1">
                    <li>❌ Fallecimiento</li>
                    <li>✅ Fallecimiento por accidente</li>
                    <li>✅ Anticipo de capital por invalidez total y permanente</li>
                    <li>❌ Invalidez por enfermedad</li>
                    <li>✅ Invalidez por accidente</li>
                    <li>✅ Gastos funerarios</li>
                    <li>❌ Enfermedades graves</li>
                    <li>✅ Renta diaria por hospitalización y accidente</li>
                    <li>✅ Gastos de curación por accidente</li>
                </ul>
            </div>
        </label>

        <!-- Tarjeta 2 -->
        <label class="tarjeta relative border border-blue-500 rounded-xl p-6 bg-white shadow-lg scale-105 flex flex-col justify-between cursor-pointer">
            <input type="radio" name="poliza" value="Plan Vida Personal" class="hidden" required>
            <div class="contenido">
                <h3 class="text-xl font-bold text-blue-700 mb-4">PLAN VIDA PERSONAL</h3>
                <ul class="space-y-1 text-gray-700 flex-1">
                    <li>✅ Fallecimiento</li>
                    <li>✅ Fallecimiento por accidente</li>
                    <li>❌ Anticipo de capital por invalidez total y permanente</li>
                    <li>✅ Invalidez por enfermedad</li>
                    <li>✅ Invalidez por accidente</li>
                    <li>✅ Gastos funerarios</li>
                    <li>✅ Enfermedades graves</li>
                    <li>✅ Renta diaria por hospitalización y accidente</li>
                    <li>✅ Gastos de curación por accidente</li>
                    <li>✅ Cáncer</li>
                    <li>✅ Asistencia en orientación nutricional</li>
                    <li>✅ Asistencia en orientación psicológica</li>
                </ul>
            </div>
        </label>

        <!-- Tarjeta 3 -->
        <label class="tarjeta border border-blue-200 rounded-xl p-6 bg-white flex flex-col justify-between cursor-pointer">
            <input type="radio" name="poliza" value="Vida Múltiple" class="hidden" required>
            <div class="contenido">
                <h3 class="text-xl font-bold text-blue-700 mb-4">VIDA MÚLTIPLE</h3>
                <ul class="space-y-1 text-gray-700 flex-1">
                    <li>✅ Fallecimiento</li>
                    <li>✅ Fallecimiento por accidente</li>
                    <li>✅ Anticipo de capital por invalidez total y permanente</li>
                    <li>❌ Invalidez por enfermedad</li>
                    <li>❌ Invalidez por accidente</li>
                    <li>✅ Gastos funerarios</li>
                    <li>❌ Enfermedades graves</li>
                    <li>❌ Renta diaria por hospitalización y accidente</li>
                    <li>✅ Gastos de curación por accidente</li>
                    <li>✅ Cáncer</li>
                    <li>✅ Asistencia en orientación nutricional</li>
                    <li>✅ Asistencia en orientación psicológica</li>
                </ul>
            </div>
        </label>
    </div>

    <button type="submit" class="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition mt-6">
        Enviar Cotización
    </button>
</form>

<script>
const form = document.getElementById("cotizacionForm");

form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    try {
        const response = await fetch("/guardar-cotizacionForm", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });

        if (!response.ok) throw new Error("Error en la respuesta del servidor");

        const mensaje = await response.text();
        alert(mensaje);

        form.reset();
    } catch (error) {
        console.error("Error al enviar cotización:", error);
        alert("❌ Ocurrió un error al enviar la cotización.");
    }
});
</script>

</body>
</html>




